<!doctype html>
<html lang="en">
<head>

    <!-- Webpage Title -->
    <title>ÎπÑÏ†ÑÍ≥µÏûêÎ•º ÏúÑÌïú ÏÑúÏ†Å</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css">

    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>


    <script>

        $(document).ready(function () {
            showbooks();
        });

        function showbooks() {
            $.ajax({
                type: 'GET',
                url: '/api/list',
                data: {},
                success: function (response) {
                    let books = response['all_books']
                    for (let i = 0; i < books.length; i++) {
                        let title = books[i]['title']
                        let img = books[i]['image']
                        let author = books[i]['author']
                        let url = books[i]['url']
                        let tag1 = books[i]['tag1']
                        let tag2 = books[i]['tag2']
                        let tag3 = books[i]['tag3']

                        let temp_html = `<div class="card">
                                                <div class="card-content">
                                                    <div class="media">
                                                        <div class="media-left">
                                                            <figure class="image is-96x96">
                                                                <img
                                                                        src="${img}"
                                                                        alt="Placeholder image"
                                                                />
                                                            </figure>
                                                        </div>
                                                        <div class="media-content">
                                                            <a href="${url}" target="_blank" class="star-name title is-4">${title} </a>
                                                            <br>
                                                            <p class="subtitle is-6">${author}</p>
                                                            <p class="subtitle is-6">${tag1}${tag2}${tag3}</p>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </div>
                                                <footer class="card-footer">
                                                    <a href="#" onclick="likeStar('${title}')" class="card-footer-item has-text-info">
                                                        Ï¢ãÏïÑÏöî
                                                        <span class="icon">
                                              <i class="fa fa-camera"></i>
                                            </span>
                                                    </a>

                                                    <a href="#" onclick="deleteStar('${title}')" class="card-footer-item has-text-black">
                                                        Ïä§ÌÅ¨Îû©
                                                        <span class="icon">
                                              <i class="fa fa-camera"></i>
                                            </span>
                                                    </a>
                                                </footer>
                                            </div>`

                        $('#star-box').append(temp_html)
                    }
                }
            });
        }

        // function likeStar(name) {
        //     $.ajax({
        //         type: 'POST',
        //         url: '/api/like',
        //         data: {name_give:name},
        //         success: function (response) {
        //             alert(response['msg']);
        //             window.location.reload()
        //         }
        //     });
        // }


        // <a href="#" onClick="deleteStar('${title}')" className="card-footer-item has-text-danger">
        //     ÎåìÍ∏Ä
        //     <span className="icon">
        //                                       <i className="fa fa-camera"></i>
        //                                     </span>
        // </a>


    </script>

    <style>
        .center {
            text-align: center;
        }

        .star-list {
            width: 700px;
            margin: 20px auto 0 auto;
        }

        .star-name {
            display: inline-block;
        }

        .star-name:hover {
            text-decoration: underline;
        }

        .card {
            margin-bottom: 15px;
        }
    </style>

    </style>

</head>
<body>
<section class="hero is-success">
    <div class="hero-body">
        <div class="container center">
            <h1 class="title">
                ÎπÑÏ†ÑÍ≥µÏûêÎèÑ Ìï† Ïàò ÏûàÎã§üòÜ
            </h1>
            <h2 class="subtitle">
                ÎπÑÏ†ÑÍ≥µÏûêÎ•º ÏúÑÌïú ÏÑúÏ†Å
            </h2>
        </div>
    </div>
</section>

<div class="star-list" id="star-box">

</div>


</body>
</html>


